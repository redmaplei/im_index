<html class="standard"><head>
        <meta charset="utf-8">
        <title>管理员</title>
        <link href="../css/im_index/ly/c.css" type="text/css" rel="stylesheet">
        <link href="../css/im_index/ly/main.css" type="text/css" rel="stylesheet">
        <link href="../css/framework/layui.css" type="text/css" rel="stylesheet">
        <link href="../css/im_index/shopkeeper.css" type="text/css" rel="stylesheet">

    </head>
    <body>

        <div id="wrap">
            <div id="header">
                <div class="top">
                        
                    <ul class="layui-nav">
                        <div id="top" class="top-in">

                                    
                            <li class="layui-nav-item home" >
                                    <a href="../html/admin.html" class="active"  style="color:#22d7c6">首页</a>
                            </li>
                            <li class="layui-nav-item">
                                    <a href="" class="active">退出</a>
                            </li>
                                    
                    </ul>

                   

                </div>
                </div> 
                
                <div id="service-list">
                    <div id="info">
                        <span style="height:2px">增加新账号</span>
                        <hr class="layui-bg-green">
                        <br>
                        <br>
                        <form class="layui-form" action="">
                            <div class="layui-form-item">
                                    <label class="layui-form-label">昵称</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="title" required lay-verify="required" placeholder="请输入昵称"
                                            autocomplete="off" class="layui-input" v-model="nickname">
                                    </div>
                            </div>

                            <div class="layui-form-item">
                                <label class="layui-form-label">账号</label>
                                <div class="layui-input-block">
                                    <input type="text" name="title" required lay-verify="required" placeholder="请输入账号"
                                        autocomplete="off" class="layui-input" v-model="account">
                                </div>
                            </div>
        
                            <div class="layui-form-item">
                                <label class="layui-form-label">密码</label>
                                <div class="layui-input-block">
                                    <input type="text" name="title" required lay-verify="required" placeholder="请输入手机号码"
                                        autocomplete="off" class="layui-input" v-model="password">
                                </div>
                            </div>
        
                            <div class="layui-form-item">
                                <label class="layui-form-label">角色</label>
                                <div class="layui-input-block">
                                    <input type="text" name="title" required lay-verify="required" placeholder="请输入角色  0是用户  1是客服  2是店主"
                                        autocomplete="off" class="layui-input" v-model="role">
                                </div>
                            </div>
        
                            <div class="layui-form-item">
                                <div class="layui-input-block">
                                    <button class="layui-btn" lay-submit lay-filter="formDemo" @click="register()" >立即提交</button>
                                </div>
                            </div>


                        </form>
                        
                    </div>
                </div>

                <div id="service-list">
                        <div id="shop">
                            <span style="height:2px">增加商店</span>
                            <hr class="layui-bg-green">
                            <br>
                            <br>
                            <form class="layui-form" action="">
                                <div class="layui-form-item">
                                        <label class="layui-form-label">店名</label>
                                        <div class="layui-input-block">
                                            <input type="text" name="title" required lay-verify="required" placeholder="请输入店名"
                                                autocomplete="off" class="layui-input" v-model="shop">
                                        </div>
                                </div>
    
                                <div class="layui-form-item">
                                    <label class="layui-form-label">店描述</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="title" required lay-verify="required" placeholder="请输入店描述"
                                            autocomplete="off" class="layui-input" v-model="shopInfo">
                                    </div>
                                </div>
            
                                <div class="layui-form-item">
                                    <label class="layui-form-label">店主</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="title" required lay-verify="required" placeholder="请输入店主"
                                            autocomplete="off" class="layui-input" v-model="shopId">
                                    </div>
                                </div>
            
                                <div class="layui-form-item">
                                    <div class="layui-input-block">
                                        <button class="layui-btn" lay-submit lay-filter="formDemo" @click="addhop()" >立即提交</button>
                                    </div>
                                </div>
    
    
                            </form>
                            
                        </div>
                    </div>

                </div>
            </div>
        </div>
        
    
        <script src="../js/framework/vue.js"></script>
        <script src="../js/framework/layui.js"></script>
        <script src="../js/framework/jquery-3.2.1.min.js"></script>
        <script src="../js/im_index/commons.js"></script>
 
 
 
        <script> 

        checkLogin()

        var register = new Vue({
            el: '#service-list',
            data: {
                nickname: "",
                account: "",
                password: "",
                role: "",
                tip: ""
            },
            methods: {

                register: function () {
                    console.log(this.nickname)
                    var register = "http://localhost:8080/user/register"
                    $.post(register, {
                        "nickName" : this.nickname,      
                        "account" : this.account,      
                        "password" : this.password,      
                        "role" : this.role 
                    }, function (result) {
                        if(result.code == 0) {
                            alert("注册成功")
                        }
                        else {
                            alert(result.msg)
                        }			
                    });

                }
            }
        });

        var shop = new Vue({
            el: '#shop',
            data: {
                shop: "",
                shopInfo: "",
                shopId: ""
            },
            methods: {

                addhop: function () {
                    var addhop = "http://localhost:8080/user/shop"
                    $.post(addhop, {
                        "shop" : this.shop,      
                        "shopInfo" : this.shopInfo,      
                        "shopId" : this.shopId
                    }, function (result) {
                        if(result.code == 0) {
                            alert("增加成功")
                        }
                        else {
                            alert(result.msg)
                        }			
                    });

                }
            }
        });

        </script>

    </body>
</html>